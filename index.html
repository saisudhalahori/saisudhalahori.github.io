<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React App</title>
</head>
<body>
  <div id="root"></div>
  <script type="text/javascript">
    // This script handles client-side routing
    var pathSegmentsToKeep = 1;

    var l = window.location;
    var decodedSearch = decodeURIComponent(l.search)
      .slice(1)
      .split("&")
      .map(function (s) {
        return s.replace(/~and~/g, "&");
      })
      .join("&");

    var decodedPathname = decodeURIComponent(l.pathname)
      .slice(1)
      .split("/")
      .slice(pathSegmentsToKeep)
      .join("/")
      .replace(/&/g, "~and~");

    var search = decodedSearch ? "?" + decodedSearch : "";
    var hash = l.hash ? l.hash : "";

    var newPath = "/" + l.pathname.split("/").slice(0, 1 + pathSegmentsToKeep).join("/") + "/?/" + decodedPathname + search + hash;

    l.replace(newPath);
  </script>
  <script type="module" src="/src/main.jsx"></script>
</body>
</html>
